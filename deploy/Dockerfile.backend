FROM debian:bookworm-slim
RUN apt-get update && apt-get install -y --no-install-recommends curl ca-certificates && rm -rf /var/lib/apt/lists/*
COPY yatzy /usr/local/bin/yatzy
COPY data/ /app/data/
WORKDIR /app
ENV YATZY_BASE_PATH=/app
ENV RAYON_NUM_THREADS=2
EXPOSE 9000
HEALTHCHECK --interval=30s --timeout=5s --retries=3 CMD curl -f http://localhost:9000/health || exit 1
CMD ["yatzy"]
